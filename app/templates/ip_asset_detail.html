{% extends "base.html" %}

{% block content %}
<section class="page-header"><h1>{{ asset.ip_address }}</h1>
  <p>
    <a class="btn btn-secondary" href="/ui/ip-assets/{{ asset.id }}/edit">Edit</a>
    <a class="btn btn-outline" href="/ui/ip-assets/{{ asset.id }}/delete">Delete</a>
  </p>
</section>
<section class="card">
  <p><strong>Project:</strong> {% if asset.project_unassigned %}Unassigned{% else %}{{ asset.project_name }}{% endif %}</p>
  <p><strong>Type:</strong> {{ asset.type }}</p>
  <p><strong>Notes:</strong> {{ asset.notes }}</p>
</section>
<section class="card">
  <h2>Audit Log</h2>
  {% if audit_logs %}
    <table class="table">
      <thead>
        <tr>
          <th>Date</th>
          <th>User</th>
          <th>Action</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        {% for log in audit_logs %}
          <tr>
            <td>{{ log.created_at }}</td>
            <td>{{ log.user }}</td>
            <td>{{ log.action }}</td>
            <td>{{ log.changes }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No audit history yet.</p>
  {% endif %}
</section>
{% endblock %}
